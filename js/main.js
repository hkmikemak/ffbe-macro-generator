(()=>{"use strict";var t,e={5572:(t,e,o)=>{o.d(e,{NS:()=>f,yw:()=>p,PZ:()=>m,Ui:()=>u,v4:()=>a,wH:()=>g,ms:()=>b});const r=[{x:166,y:832},{x:166,y:960},{x:166,y:1088},{x:504,y:832},{x:504,y:960},{x:504,y:1088}],n={"Brave Shift":{x:296,y:1241},Depart:{x:360,y:1122},"First Friend":{x:360,y:442},Next:{x:360,y:1126},"Raid Refill Yes":{x:504,y:738},Raid:{x:360,y:733},Reload:{x:450,y:1230},Repeat:{x:270,y:1230}},i=(t,e,o)=>Math.floor(o/e*t),s=(t,e)=>i(t,720,e.screenWidth),c=(t,e)=>i(t,1280,e.screenHeight),a=(t,e)=>{const o=r[t-1];return{x:s(o.x,e),y:c(o.y,e)}},u=t=>{const e={};return Object.keys(n).forEach((o=>{const r=n[o],i={x:s(r.x,t),y:c(r.y,t)};e[o]=i})),e},l=100,p=t=>(e,o)=>t.slots.reduce(((t,e)=>{const r=a(e,o);return"MEmu"===o.mode?(t.scripts.push(`${t.currentFrame}--VINPUT--MULTI2:1:0:0:${r.x}:${r.y}:0`),t.currentFrame+=l,t.scripts.push(`${t.currentFrame}--VINPUT--MULTI2:1:0:-1:-1:-2:2`),t.currentFrame-=l):"Nox"===o.mode&&(t.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MULTI:1:0:${r.x}:${r.y}ScRiPtSePaRaToR${t.currentFrame}`),t.currentFrame+=l,t.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MULTI:0:6ScRiPtSePaRaToR${t.currentFrame}`),t.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MULTI:0:6ScRiPtSePaRaToR${t.currentFrame}`),t.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MULTI:0:1ScRiPtSePaRaToR${t.currentFrame}`),t.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MSBRL:0:0ScRiPtSePaRaToR${t.currentFrame}`),t.currentFrame-=l),t}),e);var d=o(7414);const m=t=>(e,o)=>e.pipe(o,(0,d.V4)({position:a(t.slot,o)})),f=t=>(e,o)=>e.pipe(o,(0,d.V4)(t),(0,d.gw)({second:.75})),g=t=>(e,o)=>{const r=a(t.slot,o),n={x:r.x+200,y:r.y};return e.pipe(o,(0,d.oh)({endPosition:n,startPosition:r,easingFunction:"easeOut"}))},h=350,v=1150,b=t=>(e,o)=>{const r={x:s(h,o),y:c(v,o)},n=c(120,o);let i=t.rows;const a=[];for(;i>2;){const e={x:r.x,y:r.y-2*n};a.push((0,d.oh)({easingFunction:"easeOut",endPosition:"down"===t.direction?e:r,startPosition:"down"===t.direction?r:e})),i-=2}const u={x:r.x,y:r.y-i*n};return a.push((0,d.oh)({easingFunction:"easeOut",endPosition:"down"===t.direction?u:r,startPosition:"down"===t.direction?r:u})),e.pipe(o,...a)}},1281:(t,e,o)=>{o.d(e,{x:()=>u});var r=o(8108),n=o(8536),i=o(2180),s=o(6791),c=o(7555);function a(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"div",3),s._UZ(1,"i",4),s.TgZ(2,"macro-group",5),s.NdJ("deleteMeEvent",(function(){const e=s.CHM(t).index;return s.oxw().deleteGroup(e)})),s.qZA()()}if(2&t){const t=e.$implicit;s.xp6(2),s.Q6J("group",t)}}class u{constructor(t,e){this.modalService=t,this.macroGroupService=e}addGroup(){this.modalService.open(n.PN,{backdrop:"static",centered:!0,keyboard:!1}).result.then((t=>{t&&this.macroGroupService.setValue([...this.macroGroupService.getValue(),...t])})).catch((()=>{}))}deleteGroup(t){this.macroGroupService.getValue().splice(t,1),this.macroGroupService.updateCurrent()}itemDrop(t){t.currentIndex!==t.previousIndex&&((0,r.bA)(this.macroGroupService.getValue(),t.previousIndex,t.currentIndex),this.macroGroupService.updateCurrent())}}u.ɵfac=function(t){return new(t||u)(s.Y36(c.FF),s.Y36(i.f))},u.ɵcmp=s.Xpm({type:u,selectors:[["macro-editor"]],decls:5,vars:3,consts:[["cdkDropList","",3,"cdkDropListDropped"],["class","d-flex flex-row align-items-start","cdkDrag","",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-info","btn-sm","d-block","mx-auto","my-2",3,"click"],["cdkDrag","",1,"d-flex","flex-row","align-items-start"],["cdkDragHandle","",1,"fas","fa-arrows-alt","pt-3","pr-1","drag"],[1,"flex-grow-1",3,"group","deleteMeEvent"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.NdJ("cdkDropListDropped",(function(t){return e.itemDrop(t)})),s.YNc(1,a,3,1,"div",1),s.ALo(2,"async"),s.TgZ(3,"button",2),s.NdJ("click",(function(){return e.addGroup()})),s._uU(4,"Import / New Group"),s.qZA()()),2&t&&(s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,e.macroGroupService.observable)))},styles:[".drag[_ngcontent-%COMP%] {\r\n  cursor: move;\r\n}"]})},8536:(t,e,o)=>{o.d(e,{VU:()=>r.V,YV:()=>p,sF:()=>h,JZ:()=>v.J,KR:()=>g.K,f:()=>b.f,PN:()=>T,oo:()=>c});var r=o(65),n=o(6633),i=o(8554),s=o(6852);const c=(t,e)=>{const o=JSON.parse((0,s.decompressFromBase64)(t)),r=e.getValue();return o.macroGroup.forEach((t=>{t.items.filter((t=>"Click"===t.type)).forEach((t=>{const e=t.option;e.position.x=Math.floor(e.position.x*r.screenWidth/o.config.screenWidth),e.position.y=Math.floor(e.position.y*r.screenHeight/o.config.screenHeight)}))})),o.macroGroup};var a=o(6791),u=o(7555);class l{constructor(t){this.element=t}ngAfterViewInit(){this.element.nativeElement.focus()}}l.ɵfac=function(t){return new(t||l)(a.Y36(a.SBq))},l.ɵdir=a.lG2({type:l,selectors:[["","setFocus",""]]});class p{constructor(t,e,o){this.activeModal=t,this.macroGroupService=e,this.macroConfigService=o,this.output="",this.output=((t,e)=>{const o={config:{...e.getValue()},macroGroup:[...t.getValue()]};return(0,s.compressToBase64)(JSON.stringify(o))})(this.macroGroupService,this.macroConfigService)}copyOutputToClipboard(){i.nx(this.output)}}p.ɵfac=function(t){return new(t||p)(a.Y36(u.Kz),a.Y36(b.f),a.Y36(g.K))},p.ɵcmp=a.Xpm({type:p,selectors:[["ng-component"]],decls:12,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["setFocus","","readonly","","rows","1",1,"form-control",3,"value"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(a.ynx(0),a.TgZ(1,"div",0)(2,"h5",1),a._uU(3,"Export"),a.qZA(),a.TgZ(4,"button",2),a.NdJ("click",(function(){return e.activeModal.dismiss()})),a.TgZ(5,"span",3),a._uU(6,"×"),a.qZA()()(),a.TgZ(7,"div",4),a._UZ(8,"input",5),a.qZA(),a.TgZ(9,"div",6)(10,"button",7),a.NdJ("click",(function(){return e.copyOutputToClipboard()})),a._uU(11,"Copy to clipboard"),a.qZA()(),a.BQk()),2&t&&(a.xp6(8),a.Q6J("value",e.output))},directives:[l],styles:["textarea[_ngcontent-%COMP%] {\r\n  resize: none;\r\n}"]});var d=o(570),m=o(5876),f=o(9076),g=o(3822);class h{constructor(t,e,o){this.activeModal=t,this.macroGroupService=e,this.macroConfigService=o,this.formControl=new d.NI(null,d.kI.required)}generatePackage(){const t=this.macroGroupService.getValue(),e=this.macroConfigService.getValue(),o=this.formControl.value,r=new Date,i=`${r.getFullYear()}${r.getMonth()}${r.getDay()}${r.getHours()}${r.getMinutes()}${r.getSeconds()}`,s=(0,n.$)(t,e);if("Nox"===e.mode){const t=new f,e=`{"${i}":{"combination":"false","name":"${o}","needShow":"true","new":"true","playSet":{"accelerator":"1","interval":"0","mode":"0","playOnStart":"false","playSeconds":"0#0#0","repeatTimes":"1","restartPlayer":"false","restartTime":"60"},"priority":"0","time":"1578313116"}}`;t.file("export",e),t.file(i,s),t.generateAsync({type:"blob"}).then((t=>{(0,m.saveAs)(t,`${o}.7z`)}))}else if("MEmu"===e.mode){const t=new f,e=`[${i}]\r\nname=${o}\r\nreplayTime=0\r\nreplayCycles=1\r\nreplayAccelRates=1\r\nreplayInterval=0\r\ncycleInfinite=false\r\nbNew=false\r\n`;t.file(i+".mir",s),t.file("export",e),t.generateAsync({type:"blob"}).then((t=>{(0,m.saveAs)(t,`${o}.scp`)}))}}}h.ɵfac=function(t){return new(t||h)(a.Y36(u.Kz),a.Y36(b.f),a.Y36(g.K))},h.ɵcmp=a.Xpm({type:h,selectors:[["ng-component"]],decls:16,vars:2,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-4","col-form-label"],[1,"col"],["placeholder","Script Name","type","text",1,"form-control",3,"formControl"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"disabled","click"]],template:function(t,e){1&t&&(a.ynx(0),a.TgZ(1,"div",0)(2,"h5",1),a._uU(3,"Generate Macro Package"),a.qZA(),a.TgZ(4,"button",2),a.NdJ("click",(function(){return e.activeModal.dismiss()})),a.TgZ(5,"span",3),a._uU(6,"×"),a.qZA()()(),a.TgZ(7,"div",4)(8,"div",5)(9,"label",6),a._uU(10,"Script Name"),a.qZA(),a.TgZ(11,"div",7),a._UZ(12,"input",8),a.qZA()()(),a.TgZ(13,"div",9)(14,"button",10),a.NdJ("click",(function(){return e.generatePackage()})),a._uU(15,"Generate Macro Package"),a.qZA()(),a.BQk()),2&t&&(a.xp6(12),a.Q6J("formControl",e.formControl),a.xp6(2),a.Q6J("disabled",e.formControl.invalid))},directives:[d.Fj,d.JJ,d.oH],styles:[""]});var v=o(5842),b=o(2180),Z=o(6622);function x(t,e){1&t&&(a.TgZ(0,"div",15),a._uU(1," Code is invalid "),a.qZA())}function y(t,e){if(1&t&&(a.TgZ(0,"div",6)(1,"label",7),a._uU(2),a.qZA(),a.TgZ(3,"div",8),a._UZ(4,"input",16),a.qZA()()),2&t){const t=a.oxw();a.xp6(2),a.Oqu(1==t.isCodeMode?"Code":0==t.isCodeMode?"Name":""),a.xp6(2),a.s9C("placeholder",1==t.isCodeMode?"Please enter code":0==t.isCodeMode?"Please enter group name":""),a.Q6J("formControl",t.formControl)}}class T{constructor(t,e){this.activeModal=t,this.macroConfigService=e,this.hasError=!1,this.isCodeMode=null,this.formControl=new d.NI("",[d.kI.required])}setCodeMode(t){this.isCodeMode=t,this.formControl.setValue(""),this.hasError=!1}submit(){if(!1===this.isCodeMode){const t=[{name:this.formControl.value,items:[],repeat:1}];this.activeModal.close(t)}else try{const t=c(this.formControl.value,this.macroConfigService);this.activeModal.close(t)}catch{this.hasError=!0}}}T.ɵfac=function(t){return new(t||T)(a.Y36(u.Kz),a.Y36(g.K))},T.ɵcmp=a.Xpm({type:T,selectors:[["ng-component"]],decls:23,vars:17,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","my-2 p-2 bg-danger text-white",4,"ngIf"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col"],[1,"btn-group","d-flex"],["type","button",1,"btn","w-100",3,"disabled","click"],["class","form-group row",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn",3,"disabled","click"],[1,"fas","fa-sign-in-alt"],[1,"my-2","p-2","bg-danger","text-white"],["type","text","setFocus","",1,"form-control",3,"placeholder","formControl"]],template:function(t,e){1&t&&(a.ynx(0),a.TgZ(1,"div",0)(2,"h5",1),a._uU(3,"Add Groups"),a.qZA(),a.TgZ(4,"button",2),a.NdJ("click",(function(){return e.activeModal.dismiss()})),a.TgZ(5,"span",3),a._uU(6,"×"),a.qZA()()(),a.TgZ(7,"div",4),a.YNc(8,x,2,0,"div",5),a.TgZ(9,"div",6)(10,"label",7),a._uU(11,"Mode"),a.qZA(),a.TgZ(12,"div",8)(13,"div",9)(14,"button",10),a.NdJ("click",(function(){return e.setCodeMode(!0)})),a._uU(15,"Import from code"),a.qZA(),a.TgZ(16,"button",10),a.NdJ("click",(function(){return e.setCodeMode(!1)})),a._uU(17,"New empty group"),a.qZA()()()(),a.YNc(18,y,5,3,"div",11),a.qZA(),a.TgZ(19,"div",12)(20,"button",13),a.NdJ("click",(function(){return e.submit()})),a._UZ(21,"i",14),a._uU(22," Submit "),a.qZA()(),a.BQk()),2&t&&(a.xp6(8),a.Q6J("ngIf",e.hasError),a.xp6(6),a.ekj("btn-primary",!0===e.isCodeMode)("btn-default",!0!==e.isCodeMode),a.Q6J("disabled",!0===e.isCodeMode),a.xp6(2),a.ekj("btn-primary",!1===e.isCodeMode)("btn-default",!1!==e.isCodeMode),a.Q6J("disabled",!1===e.isCodeMode),a.xp6(2),a.Q6J("ngIf",null!==e.isCodeMode),a.xp6(2),a.ekj("btn-primary",e.formControl.valid)("btn-default",e.formControl.invalid),a.Q6J("disabled",e.formControl.invalid))},directives:[Z.O5,d.Fj,l,d.JJ,d.oH],encapsulation:2})},5842:(t,e,o)=>{o.d(e,{J:()=>w});var r=o(8108),n=o(6622),i=o(570),s=o(7555),c=o(1281),a=o(6791),u=o(2180),l=o(1168),p=o(65);class d{constructor(t){this.viewContainerRef=t}}d.ɵfac=function(t){return new(t||d)(a.Y36(a.s_b))},d.ɵdir=a.lG2({type:d,selectors:[["","editor-anchor",""]]});var m=o(8745);function f(t,e){if(1&t&&(a.TgZ(0,"option",14),a._uU(1),a.qZA()),2&t){const t=e.$implicit;a.Q6J("value",t),a.xp6(1),a.Oqu(t)}}function g(t,e){1&t&&a._UZ(0,"hr")}function h(t,e){}function v(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",15)(1,"button",16),a.NdJ("click",(function(){a.CHM(t);return a.oxw().submit()})),a._UZ(2,"i",17),a._uU(3," Submit "),a.qZA()()}if(2&t){const t=a.oxw();a.xp6(1),a.ekj("btn-primary",t.formGroup.valid)("btn-default",t.formGroup.invalid),a.Q6J("disabled",t.formGroup.invalid)}}class b{constructor(t,e){this.activeModal=t,this.componentFactoryResolver=e,this.formControl=new i.NI("",[i.kI.required]),this.formGroup=null,this.actions=p.V}createEditor(){if(this.formControl.value){const t=this.actions[this.formControl.value];this.formGroup=t.optionToFormGroup(this.option);const e=this.componentFactoryResolver.resolveComponentFactory(t.editorComponent),o=this.editorHost.viewContainerRef;o.clear();o.createComponent(e).instance.setFormGroup(this.formGroup)}}ngOnInit(){this.formControl.valueChanges.pipe((0,l.x)()).subscribe((()=>{this.createEditor()}))}setOption(t){this.option=t.option,this.formControl.setValue(t.type),this.formControl.disable(),this.createEditor()}submit(){const t=this.actions[this.formControl.value].formGroupToOption(this.formGroup);this.activeModal.close({option:t,type:this.formControl.value})}}function Z(t,e){if(1&t){const t=a.EpF();a.TgZ(0,"div",18),a._UZ(1,"i",19),a.TgZ(2,"macro-item",20),a.NdJ("deleteMeEvent",(function(){const e=a.CHM(t).index;return a.oxw().deleteItem(e)}))("updateMeEvent",(function(e){const o=a.CHM(t).index;return a.oxw().updateItem(o,e)})),a.qZA()()}if(2&t){const t=e.$implicit;a.xp6(2),a.Q6J("item",t)}}b.ɵfac=function(t){return new(t||b)(a.Y36(s.Kz),a.Y36(a._Vd))},b.ɵcmp=a.Xpm({type:b,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&a.Gf(d,7),2&t){let t;a.iGM(t=a.CRH())&&(e.editorHost=t.first)}},decls:19,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col"],[1,"form-control",3,"formControl"],["disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["editor-anchor",""],["class","modal-footer",4,"ngIf"],[3,"value"],[1,"modal-footer"],["type","button",1,"btn",3,"disabled","click"],[1,"fas","fa-sign-in-alt"]],template:function(t,e){1&t&&(a.ynx(0),a.TgZ(1,"div",0)(2,"h5",1),a._uU(3,"Action Editor"),a.qZA(),a.TgZ(4,"button",2),a.NdJ("click",(function(){return e.activeModal.dismiss()})),a.TgZ(5,"span",3),a._uU(6,"×"),a.qZA()()(),a.TgZ(7,"div",4)(8,"div",5)(9,"label",6),a._uU(10,"Action"),a.qZA(),a.TgZ(11,"div",7)(12,"select",8),a._UZ(13,"option",9),a.YNc(14,f,2,2,"option",10),a.ALo(15,"keys"),a.qZA()()(),a.YNc(16,g,1,0,"hr",11),a.YNc(17,h,0,0,"ng-template",12),a.qZA(),a.YNc(18,v,4,5,"div",13),a.BQk()),2&t&&(a.xp6(12),a.Q6J("formControl",e.formControl),a.xp6(2),a.Q6J("ngForOf",a.lcZ(15,4,e.actions)),a.xp6(2),a.Q6J("ngIf",null!=e.formGroup),a.xp6(2),a.Q6J("ngIf",null!=e.formGroup))},directives:[i.EJ,i.JJ,i.oH,i.YN,i.Kr,n.sg,n.O5,d],pipes:[m.V],encapsulation:2});class x{constructor(t,e){this.modalService=t,this.macroGroupService=e,this.isCollapsed=!0,this.deleteMeEvent=new a.vpe}itemDrop(t){t.previousIndex!==t.currentIndex&&((0,r.bA)(this.group.items,t.previousIndex,t.currentIndex),this.macroGroupService.updateCurrent())}deleteItem(t){this.group.items.splice(t,1),this.macroGroupService.updateCurrent()}addItem(){this.modalService.open(b,{backdrop:"static",centered:!0,keyboard:!1}).result.then((t=>{t&&(this.group.items.push(t),this.macroGroupService.updateCurrent())})).catch((()=>{}))}updateRepeat(t){const e=parseInt(t,10);isNaN(e)||(this.group.repeat=e,this.macroGroupService.updateCurrent())}updateItem(t,e){this.group.items[t]=e,this.macroGroupService.updateCurrent()}updateGroupName(t){this.group.name=t,this.macroGroupService.updateCurrent()}}x.ɵfac=function(t){return new(t||x)(a.Y36(s.FF),a.Y36(u.f))},x.ɵcmp=a.Xpm({type:x,selectors:[["macro-group"]],inputs:{group:"group"},outputs:{deleteMeEvent:"deleteMeEvent"},decls:26,vars:4,consts:[[1,"macro-group-container","mb-2"],[1,"card"],[1,"card-header"],[1,"d-flex","flex-row","align-items-center"],[1,"input-group","input-group-sm"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","number","step","1",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["type","button","aria-label","Delete",1,"btn","btn-sm","btn-link","text-danger",3,"click"],[1,"fas","fa-trash"],["type","button","aria-label","Collapse or Expand",1,"btn","btn-sm","btn-link",3,"click"],[1,"fas","fa-ellipsis-h"],["cdkDropList","",1,"p-2",3,"ngbCollapse","cdkDropListDropped"],["class","d-flex flex-row align-items-center","cdkDrag","",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","btn-info","d-block","mx-auto","my-2",3,"click"],[1,"fas","fa-plus-circle"],["cdkDrag","",1,"d-flex","flex-row","align-items-center"],["cdkDragHandle","",1,"fas","fa-arrows-alt","pr-1","drag","text-info"],[1,"flex-grow-1",3,"item","deleteMeEvent","updateMeEvent"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),a._uU(7,"Group Name"),a.qZA()(),a.TgZ(8,"input",7),a.NdJ("ngModelChange",(function(t){return e.updateGroupName(t)})),a.qZA()(),a.TgZ(9,"div",4)(10,"div",5)(11,"span",6),a._uU(12,"Repeat"),a.qZA()(),a.TgZ(13,"input",8),a.NdJ("ngModelChange",(function(t){return e.updateRepeat(t)})),a.qZA(),a.TgZ(14,"div",9)(15,"span",6),a._uU(16,"times"),a.qZA()()(),a.TgZ(17,"button",10),a.NdJ("click",(function(){return e.deleteMeEvent.emit()})),a._UZ(18,"i",11),a.qZA(),a.TgZ(19,"button",12),a.NdJ("click",(function(){return e.isCollapsed=!e.isCollapsed})),a._UZ(20,"i",13),a.qZA()()(),a.TgZ(21,"div",14),a.NdJ("cdkDropListDropped",(function(t){return e.itemDrop(t)})),a.YNc(22,Z,3,1,"div",15),a.TgZ(23,"button",16),a.NdJ("click",(function(){return e.addItem()})),a._UZ(24,"i",17),a._uU(25," Add New Action"),a.qZA()()()()),2&t&&(a.xp6(8),a.Q6J("ngModel",e.group.name),a.xp6(5),a.Q6J("ngModel",e.group.repeat),a.xp6(8),a.Q6J("ngbCollapse",e.isCollapsed),a.xp6(1),a.Q6J("ngForOf",e.group.items))},styles:[".input-repeat[_ngcontent-%COMP%] {\r\n  max-width: 5rem;\r\n}\r\n\r\n.drag[_ngcontent-%COMP%] {\r\n  cursor: move;\r\n}"]});var y=o(8536);class T{constructor(t,e){this.modalService=t,this.macroGroupService=e,this.deleteMeEvent=new a.vpe,this.updateMeEvent=new a.vpe,this.actions=y.VU}openEditDialog(){const t=this.modalService.open(b,{backdrop:"static",centered:!0,keyboard:!1});t.componentInstance.setOption(this.item),t.result.then((t=>{t&&this.updateMeEvent.emit(t)})).catch((()=>{}))}}T.ɵfac=function(t){return new(t||T)(a.Y36(s.FF),a.Y36(u.f))},T.ɵcmp=a.Xpm({type:T,selectors:[["macro-item"]],inputs:{item:"item"},outputs:{deleteMeEvent:"deleteMeEvent",updateMeEvent:"updateMeEvent"},decls:10,vars:2,consts:[[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text","bg-dark","text-white"],["type","text","readonly","",1,"form-control",3,"value"],[1,"input-group-append"],["type","button","aria-label","Edit",1,"btn","btn-warning",3,"click"],[1,"fas","fa-edit"],["type","button","aria-label","Delete",1,"btn","btn-danger",3,"click"],[1,"fas","fa-trash"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"span",2),a._uU(3),a.qZA()(),a._UZ(4,"input",3),a.TgZ(5,"div",4)(6,"button",5),a.NdJ("click",(function(){return e.openEditDialog()})),a._UZ(7,"i",6),a.qZA(),a.TgZ(8,"button",7),a.NdJ("click",(function(){return e.deleteMeEvent.emit()})),a._UZ(9,"i",8),a.qZA()()()),2&t&&(a.xp6(3),a.Oqu(e.item.type),a.xp6(1),a.s9C("value",e.actions[e.item.type].displayOption(e.item.option)))},encapsulation:2});var S=o(3822);class w{static forRoot(){return{ngModule:w,providers:[u.f,S.K]}}}w.ɵfac=function(t){return new(t||w)},w.ɵmod=a.oAB({type:w}),w.ɵinj=a.cJS({imports:[[n.ez,i.u5,s.IJ,i.UX,r._t]]}),a.B6R(c.x,[r.Wj,n.sg,r.Zt,r.Bh,x],[n.Ov]),a.B6R(x,[i.Fj,i.JJ,i.On,i.wV,r.Wj,s._D,n.sg,r.Zt,r.Bh,T],[])},8745:(t,e,o)=>{o.d(e,{V:()=>n});var r=o(6791);class n{transform(t,...e){return Object.keys(t)}}n.ɵfac=function(t){return new(t||n)},n.ɵpipe=r.Yjl({name:"keys",type:n,pure:!0})},3822:(t,e,o)=>{o.d(e,{K:()=>c});var r=o(1935),n=o(7414);const i=t=>(Object.freeze(t),void 0!==t&&Object.getOwnPropertyNames(t).forEach((e=>{null===t[e]||"object"!=typeof t[e]&&"function"!=typeof t[e]||Object.isFrozen(t[e])||i(t[e])})),t);var s=o(6791);class c{constructor(){this.dataSource=new r.X(new n.om),this.observable=this.dataSource.asObservable()}getValue(){const t=this.dataSource.getValue();return i(t),t}setValue(t){this.dataSource.next(t)}}c.ɵfac=function(t){return new(t||c)},c.ɵprov=s.Yz7({token:c,factory:c.ɵfac,providedIn:"root"})},2180:(t,e,o)=>{o.d(e,{f:()=>i});var r=o(1935),n=o(6791);class i{constructor(){this.dataSource=new r.X([]),this.observable=this.dataSource.asObservable()}getValue(){return this.dataSource.getValue()}setValue(t){this.dataSource.next(t)}updateCurrent(){const t=this.dataSource.getValue();this.dataSource.next(t)}}i.ɵfac=function(t){return new(t||i)},i.ɵprov=n.Yz7({token:i,factory:i.ɵfac,providedIn:"root"})},65:(t,e,o)=>{o.d(e,{V:()=>q});var r=o(570),n=o(7414),i=o(8536),s=o(5572),c=o(6791),a=o(6622),u=o(8745);function l(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"button",10),c.NdJ("click",(function(){const e=c.CHM(t).$implicit;return c.oxw(2).setButton(e)})),c._uU(1),c.qZA()}if(2&t){const t=e.$implicit;c.xp6(1),c.Oqu(t)}}function p(t,e){if(1&t&&(c.ynx(0,1),c.TgZ(1,"div",2)(2,"label",3),c._uU(3,"X"),c.qZA(),c.TgZ(4,"div",4),c._UZ(5,"input",5),c.qZA()(),c.TgZ(6,"div",2)(7,"label",3),c._uU(8,"Y"),c.qZA(),c.TgZ(9,"div",4),c._UZ(10,"input",6),c.qZA()(),c.TgZ(11,"div",2)(12,"div",7)(13,"div",8),c.YNc(14,l,2,1,"button",9),c.ALo(15,"keys"),c.qZA()()(),c.BQk()),2&t){const t=c.oxw();c.Q6J("formGroup",t.formGroup),c.xp6(14),c.Q6J("ngForOf",c.lcZ(15,2,t.buttons))}}class d{constructor(t){this.configService=t,this.formGroup=null,this.buttons=(0,s.Ui)(this.configService.getValue())}setButton(t){this.formGroup.get("x").setValue(this.buttons[t].x),this.formGroup.get("y").setValue(this.buttons[t].y)}setFormGroup(t){this.formGroup=t,this.formGroup.get("x").setValidators([r.kI.required,r.kI.min(0),r.kI.max(this.configService.getValue().screenWidth)]),this.formGroup.get("x").setValidators([r.kI.required,r.kI.min(0),r.kI.max(this.configService.getValue().screenHeight)])}}d.ɵfac=function(t){return new(t||d)(c.Y36(i.KR))},d.ɵcmp=c.Xpm({type:d,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col"],["type","number","step","1","formControlName","x",1,"form-control"],["type","number","step","1","formControlName","y",1,"form-control"],[1,"offset-2","col"],[1,"d-flex","flex-row","flex-wrap"],["type","button","class","btn btn-default",3,"click",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-default",3,"click"]],template:function(t,e){1&t&&c.YNc(0,p,16,4,"ng-container",0),2&t&&c.Q6J("ngIf",null!=e.formGroup)},directives:[a.O5,r.JL,r.sg,r.wV,r.Fj,r.JJ,r.u,a.sg],pipes:[u.V],encapsulation:2});const m={displayOption:t=>{const e=t;return`${e.position.x},${e.position.y}`},editorComponent:d,formGroupToOption:t=>({position:{x:t.get("x").value,y:t.get("y").value}}),macroBuilder:n.V4,optionToFormGroup:t=>{const e=new r.cw({x:new r.NI(""),y:new r.NI("")});if(t){const o=t;e.get("x").setValue(o.position.x),e.get("y").setValue(o.position.y)}return e}};function f(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"button",12),c.NdJ("click",(function(){const e=c.CHM(t).$implicit;return c.oxw(2).setButton(e)})),c._uU(1),c.qZA()}if(2&t){const t=e.$implicit;c.xp6(1),c.hij(" ",t," ")}}function g(t,e){if(1&t){const t=c.EpF();c.ynx(0,1),c.TgZ(1,"div",2)(2,"label",3),c._uU(3,"X"),c.qZA(),c.TgZ(4,"div",4),c._UZ(5,"input",5),c.qZA()(),c.TgZ(6,"div",2)(7,"label",3),c._uU(8,"Y"),c.qZA(),c.TgZ(9,"div",4),c._UZ(10,"input",6),c.qZA()(),c.TgZ(11,"div",2)(12,"div",7)(13,"div",8)(14,"div",4)(15,"button",9),c.NdJ("click",(function(){c.CHM(t);return c.oxw().setSlotButton(1)})),c._uU(16," Slot 1"),c.qZA(),c.TgZ(17,"button",9),c.NdJ("click",(function(){c.CHM(t);return c.oxw().setSlotButton(2)})),c._uU(18," Slot 2"),c.qZA(),c.TgZ(19,"button",9),c.NdJ("click",(function(){c.CHM(t);return c.oxw().setSlotButton(3)})),c._uU(20," Slot 3 "),c.qZA()(),c.TgZ(21,"div",4)(22,"button",9),c.NdJ("click",(function(){c.CHM(t);return c.oxw().setSlotButton(4)})),c._uU(23," Slot 4"),c.qZA(),c.TgZ(24,"button",9),c.NdJ("click",(function(){c.CHM(t);return c.oxw().setSlotButton(5)})),c._uU(25," Slot 5"),c.qZA(),c.TgZ(26,"button",9),c.NdJ("click",(function(){c.CHM(t);return c.oxw().setSlotButton(6)})),c._uU(27," Slot 6 "),c.qZA()()(),c.TgZ(28,"div",10),c.YNc(29,f,2,1,"button",11),c.ALo(30,"keys"),c.qZA()()(),c.BQk()}if(2&t){const t=c.oxw();c.Q6J("formGroup",t.formGroup),c.xp6(29),c.Q6J("ngForOf",c.lcZ(30,2,t.buttons))}}class h{constructor(t){this.configService=t,this.formGroup=null,this.buttons=(0,s.Ui)(this.configService.getValue())}setButton(t){this.formGroup.get("x").setValue(this.buttons[t].x),this.formGroup.get("y").setValue(this.buttons[t].y)}setSlotButton(t){const e=(0,s.v4)(t,this.configService.getValue());this.formGroup.get("x").setValue(e.x),this.formGroup.get("y").setValue(e.y)}setFormGroup(t){this.formGroup=t,this.formGroup.get("x").setValidators([r.kI.required,r.kI.min(0),r.kI.max(this.configService.getValue().screenWidth)]),this.formGroup.get("x").setValidators([r.kI.required,r.kI.min(0),r.kI.max(this.configService.getValue().screenHeight)])}}h.ɵfac=function(t){return new(t||h)(c.Y36(i.KR))},h.ɵcmp=c.Xpm({type:h,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col"],["type","number","step","1","formControlName","x",1,"form-control"],["type","number","step","1","formControlName","y",1,"form-control"],[1,"offset-2","col"],[1,"row"],["type","button",1,"btn","btn-default","btn-block",3,"click"],[1,"d-flex","flex-row","flex-wrap"],["type","button","class","btn btn-default",3,"click",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-default",3,"click"]],template:function(t,e){1&t&&c.YNc(0,g,31,4,"ng-container",0),2&t&&c.Q6J("ngIf",null!=e.formGroup)},directives:[a.O5,r.JL,r.sg,r.wV,r.Fj,r.JJ,r.u,a.sg],pipes:[u.V],encapsulation:2});const v={displayOption:t=>{const e=t;return`${e.position.x},${e.position.y}`},editorComponent:h,formGroupToOption:t=>({position:{x:t.get("x").value,y:t.get("y").value}}),macroBuilder:s.NS,optionToFormGroup:t=>{const e=new r.cw({x:new r.NI(""),y:new r.NI("")});if(t){const o=t;e.get("x").setValue(o.position.x),e.get("y").setValue(o.position.y)}return e}};function b(t,e){if(1&t&&(c.ynx(0,1),c.TgZ(1,"div",2)(2,"div",3),c._uU(3,"Slots"),c.qZA(),c.TgZ(4,"div",4)(5,"div",5)(6,"div",4)(7,"div",6),c._UZ(8,"input",7),c.TgZ(9,"label",8),c._uU(10," Slot 1 "),c.qZA()(),c.TgZ(11,"div",6),c._UZ(12,"input",9),c.TgZ(13,"label",8),c._uU(14,"Slot 2"),c.qZA()(),c.TgZ(15,"div",6),c._UZ(16,"input",10),c.TgZ(17,"label",8),c._uU(18,"Slot 3"),c.qZA()()(),c.TgZ(19,"div",4)(20,"div",6),c._UZ(21,"input",11),c.TgZ(22,"label",8),c._uU(23,"Slot 4"),c.qZA()(),c.TgZ(24,"div",6),c._UZ(25,"input",12),c.TgZ(26,"label",8),c._uU(27,"Slot 5"),c.qZA()(),c.TgZ(28,"div",6),c._UZ(29,"input",13),c.TgZ(30,"label",8),c._uU(31,"Slot 6"),c.qZA()()()()()(),c.BQk()),2&t){const t=c.oxw();c.Q6J("formGroup",t.formGroup),c.xp6(8),c.Q6J("id",t.timestamp+"_slot_1"),c.xp6(1),c.Q6J("for",t.timestamp+"_slot_1"),c.xp6(3),c.Q6J("id",t.timestamp+"_slot_2"),c.xp6(1),c.Q6J("for",t.timestamp+"_slot_2"),c.xp6(3),c.Q6J("id",t.timestamp+"_slot_3"),c.xp6(1),c.Q6J("for",t.timestamp+"_slot_3"),c.xp6(4),c.Q6J("id",t.timestamp+"_slot_4"),c.xp6(1),c.Q6J("for",t.timestamp+"_slot_4"),c.xp6(3),c.Q6J("id",t.timestamp+"_slot_5"),c.xp6(1),c.Q6J("for",t.timestamp+"_slot_5"),c.xp6(3),c.Q6J("id",t.timestamp+"_slot_6"),c.xp6(1),c.Q6J("for",t.timestamp+"_slot_6")}}class Z{constructor(){this.formGroup=null,this.timestamp="",this.timestamp=Date.now().toString()}setFormGroup(t){this.formGroup=t}}Z.ɵfac=function(t){return new(t||Z)},Z.ɵcmp=c.Xpm({type:Z,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"row","align-items-center"],[1,"col-2"],[1,"col"],[1,"row"],[1,"form-check"],["type","checkbox","formControlName","slot_1",1,"form-check-input",3,"id"],[1,"form-check-label",3,"for"],["type","checkbox","formControlName","slot_2",1,"form-check-input",3,"id"],["type","checkbox","formControlName","slot_3",1,"form-check-input",3,"id"],["type","checkbox","formControlName","slot_4",1,"form-check-input",3,"id"],["type","checkbox","formControlName","slot_5",1,"form-check-input",3,"id"],["type","checkbox","formControlName","slot_6",1,"form-check-input",3,"id"]],template:function(t,e){1&t&&c.YNc(0,b,32,13,"ng-container",0),2&t&&c.Q6J("ngIf",null!=e.formGroup)},directives:[a.O5,r.JL,r.sg,r.Wl,r.JJ,r.u],encapsulation:2});const x={displayOption:t=>`Slots: ${t.slots.join(", ")}`,editorComponent:Z,formGroupToOption:t=>{const e=t.value,o=[];return Object.keys(e).forEach((t=>{!0===e[t]&&o.push(parseInt(t.replace("slot_",""),10))})),{slots:o}},macroBuilder:s.yw,optionToFormGroup:t=>{const e=new r.cw({slot_1:new r.NI(!1,[]),slot_2:new r.NI(!1,[]),slot_3:new r.NI(!1,[]),slot_4:new r.NI(!1,[]),slot_5:new r.NI(!1,[]),slot_6:new r.NI(!1,[])});if(t){t.slots.map((t=>`slot_${t}`)).forEach((t=>{e.get(t).setValue(!0)}))}return e}};function y(t,e){if(1&t&&(c.ynx(0,1),c.TgZ(1,"div",2)(2,"label",3),c._uU(3,"Slot"),c.qZA(),c.TgZ(4,"div",4)(5,"select",5)(6,"option",6),c._uU(7,"Slot 1"),c.qZA(),c.TgZ(8,"option",7),c._uU(9,"Slot 2"),c.qZA(),c.TgZ(10,"option",8),c._uU(11,"Slot 3"),c.qZA(),c.TgZ(12,"option",9),c._uU(13,"Slot 4"),c.qZA(),c.TgZ(14,"option",10),c._uU(15,"Slot 5"),c.qZA(),c.TgZ(16,"option",11),c._uU(17,"Slot 6"),c.qZA()()()(),c.BQk()),2&t){const t=c.oxw();c.Q6J("formGroup",t.formGroup)}}class T{constructor(){this.formGroup=null}setFormGroup(t){this.formGroup=t}}T.ɵfac=function(t){return new(t||T)},T.ɵcmp=c.Xpm({type:T,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col"],["formControlName","slot",1,"form-control"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"]],template:function(t,e){1&t&&c.YNc(0,y,18,1,"ng-container",0),2&t&&c.Q6J("ngIf",null!=e.formGroup)},directives:[a.O5,r.JL,r.sg,r.EJ,r.JJ,r.u,r.YN,r.Kr],encapsulation:2});const S={displayOption:t=>`Slot ${t.slot}`,editorComponent:T,formGroupToOption:t=>({slot:t.get("slot").value}),macroBuilder:s.PZ,optionToFormGroup:t=>{const e=new r.cw({slot:new r.NI("",[r.kI.required,r.kI.min(1),r.kI.max(6)])});if(t){const o=t;e.get("slot").setValue(o.slot)}return e}};function w(t,e){if(1&t&&(c.ynx(0,1),c.TgZ(1,"div",2)(2,"label",3),c._uU(3,"Second"),c.qZA(),c.TgZ(4,"div",4),c._UZ(5,"input",5),c.qZA()(),c.BQk()),2&t){const t=c.oxw();c.Q6J("formGroup",t.formGroup)}}class _{constructor(){this.formGroup=null}setFormGroup(t){this.formGroup=t}}_.ɵfac=function(t){return new(t||_)},_.ɵcmp=c.Xpm({type:_,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col"],["type","number","step","1","formControlName","second",1,"form-control"]],template:function(t,e){1&t&&c.YNc(0,w,6,1,"ng-container",0),2&t&&c.Q6J("ngIf",null!=e.formGroup)},directives:[a.O5,r.JL,r.sg,r.wV,r.Fj,r.JJ,r.u],encapsulation:2});const k={displayOption:t=>`${t.second}s`,editorComponent:_,formGroupToOption:t=>({second:t.get("second").value}),macroBuilder:n.gw,optionToFormGroup:t=>{const e=new r.cw({second:new r.NI("",[r.kI.required,r.kI.min(0)])});if(t){const o=t;e.get("second").setValue(o.second)}return e}};function U(t,e){if(1&t&&(c.ynx(0,1),c.TgZ(1,"div",2)(2,"label",3),c._uU(3,"From X"),c.qZA(),c.TgZ(4,"div",4),c._UZ(5,"input",5),c.qZA()(),c.TgZ(6,"div",2)(7,"label",3),c._uU(8,"From Y"),c.qZA(),c.TgZ(9,"div",4),c._UZ(10,"input",6),c.qZA()(),c.TgZ(11,"div",2)(12,"label",3),c._uU(13,"To X"),c.qZA(),c.TgZ(14,"div",4),c._UZ(15,"input",7),c.qZA()(),c.TgZ(16,"div",2)(17,"label",3),c._uU(18,"To Y"),c.qZA(),c.TgZ(19,"div",4),c._UZ(20,"input",8),c.qZA()(),c.TgZ(21,"div",2)(22,"label",3),c._uU(23,"Easing Function"),c.qZA(),c.TgZ(24,"div",4)(25,"select",9)(26,"option",10),c._uU(27,"Ease In, Ease Out"),c.qZA(),c.TgZ(28,"option",11),c._uU(29,"Ease In"),c.qZA(),c.TgZ(30,"option",12),c._uU(31,"Ease Out"),c.qZA(),c.TgZ(32,"option",13),c._uU(33,"Linear"),c.qZA()()()(),c.BQk()),2&t){const t=c.oxw();c.Q6J("formGroup",t.formGroup)}}class C{constructor(t){this.configService=t,this.formGroup=null,this.buttons=(0,s.Ui)(this.configService.getValue())}setFormGroup(t){this.formGroup=t}}C.ɵfac=function(t){return new(t||C)(c.Y36(i.KR))},C.ɵcmp=c.Xpm({type:C,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col"],["type","number","step","1","formControlName","from_x",1,"form-control"],["type","number","step","1","formControlName","from_y",1,"form-control"],["type","number","step","1","formControlName","to_x",1,"form-control"],["type","number","step","1","formControlName","to_y",1,"form-control"],["formControlName","easingFunction",1,"form-control"],["value","easeInOut"],["value","easeIn"],["value","easeOut"],["value","linear"]],template:function(t,e){1&t&&c.YNc(0,U,34,1,"ng-container",0),2&t&&c.Q6J("ngIf",null!=e.formGroup)},directives:[a.O5,r.JL,r.sg,r.wV,r.Fj,r.JJ,r.u,r.EJ,r.YN,r.Kr],encapsulation:2});const I={displayOption:t=>{const e=t;return`${e.startPosition.x},${e.startPosition.y} - ${e.endPosition.x},${e.endPosition.y}`},editorComponent:C,formGroupToOption:t=>({easingFunction:t.get("easingFunction").value,startPosition:{x:t.get("from_x").value,y:t.get("from_y").value},endPosition:{x:t.get("to_x").value,y:t.get("to_y").value}}),macroBuilder:n.oh,optionToFormGroup:t=>{const e=new r.cw({easingFunction:new r.NI("",[r.kI.required]),from_x:new r.NI("",[r.kI.required,r.kI.min(0),r.kI.max(720)]),from_y:new r.NI("",[r.kI.required,r.kI.min(0),r.kI.max(1280)]),to_x:new r.NI("",[r.kI.required,r.kI.min(0),r.kI.max(720)]),to_y:new r.NI("",[r.kI.required,r.kI.min(0),r.kI.max(1280)])});if(t){const o=t;e.get("from_x").setValue(o.startPosition.x),e.get("from_y").setValue(o.startPosition.y),e.get("to_x").setValue(o.endPosition.x),e.get("to_y").setValue(o.endPosition.y),e.get("easingFunction").setValue(o.easingFunction)}return e}};function G(t,e){if(1&t&&(c.ynx(0,1),c.TgZ(1,"div",2)(2,"label",3),c._uU(3,"Slot"),c.qZA(),c.TgZ(4,"div",4)(5,"select",5)(6,"option",6),c._uU(7,"Slot 1"),c.qZA(),c.TgZ(8,"option",7),c._uU(9,"Slot 2"),c.qZA(),c.TgZ(10,"option",8),c._uU(11,"Slot 3"),c.qZA(),c.TgZ(12,"option",9),c._uU(13,"Slot 4"),c.qZA(),c.TgZ(14,"option",10),c._uU(15,"Slot 5"),c.qZA(),c.TgZ(16,"option",11),c._uU(17,"Slot 6"),c.qZA()()()(),c.BQk()),2&t){const t=c.oxw();c.Q6J("formGroup",t.formGroup)}}class P{constructor(){this.formGroup=null}setFormGroup(t){this.formGroup=t}}P.ɵfac=function(t){return new(t||P)},P.ɵcmp=c.Xpm({type:P,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col"],["formControlName","slot",1,"form-control"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"]],template:function(t,e){1&t&&c.YNc(0,G,18,1,"ng-container",0),2&t&&c.Q6J("ngIf",null!=e.formGroup)},directives:[a.O5,r.JL,r.sg,r.EJ,r.JJ,r.u,r.YN,r.Kr],encapsulation:2});const N={displayOption:t=>`Slot ${t.slot}`,editorComponent:P,formGroupToOption:t=>({slot:t.get("slot").value}),macroBuilder:s.wH,optionToFormGroup:t=>{const e=new r.cw({slot:new r.NI("",[r.kI.required,r.kI.min(1),r.kI.max(6)])});if(t){const o=t;e.get("slot").setValue(o.slot)}return e}};function M(t,e){if(1&t&&(c.ynx(0,1),c.TgZ(1,"div",2)(2,"label",3),c._uU(3,"Direction"),c.qZA(),c.TgZ(4,"div",4)(5,"select",5)(6,"option",6),c._uU(7,"UP"),c.qZA(),c.TgZ(8,"option",7),c._uU(9,"DOWN"),c.qZA()()()(),c.TgZ(10,"div",2)(11,"label",3),c._uU(12,"Rows"),c.qZA(),c.TgZ(13,"div",4),c._UZ(14,"input",8),c.qZA()(),c.BQk()),2&t){const t=c.oxw();c.Q6J("formGroup",t.formGroup)}}class R{constructor(){this.formGroup=null}setFormGroup(t){this.formGroup=t}}R.ɵfac=function(t){return new(t||R)},R.ɵcmp=c.Xpm({type:R,selectors:[["ng-component"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col"],["formControlName","direction",1,"form-control"],["value","up"],["value","down"],["type","number","formControlName","rows","steps","1",1,"form-control"]],template:function(t,e){1&t&&c.YNc(0,M,15,1,"ng-container",0),2&t&&c.Q6J("ngIf",null!=e.formGroup)},directives:[a.O5,r.JL,r.sg,r.EJ,r.JJ,r.u,r.YN,r.Kr,r.wV,r.Fj],encapsulation:2});const q={Click:m,"Click Button":v,"Click Multiple Slot":x,"Click Slot":S,Delay:k,Drag:I,"Open Skill Drawer":N,"Scroll Rows":{displayOption:t=>{const e=t;return`${e.direction.toUpperCase()} ${e.rows} Rows`},editorComponent:R,formGroupToOption:t=>({rows:t.get("rows").value,direction:t.get("direction").value}),macroBuilder:s.ms,optionToFormGroup:t=>{const e=new r.cw({direction:new r.NI("",[r.kI.required]),rows:new r.NI("",[r.kI.required,r.kI.min(1)])});if(t){const o=t;e.get("rows").setValue(o.rows),e.get("direction").setValue(o.direction)}return e}}}},6633:(t,e,o)=>{o.d(e,{$:()=>i});var r=o(8536),n=o(7414);const i=(t,e)=>{const o=new n.LE;return t.filter((t=>t.repeat>0)).forEach((t=>{for(let n=1;n<=t.repeat;n++)t.items.forEach((t=>{o.pipe(e,r.VU[t.type].macroBuilder(t.option))}))})),o.toString(e)}},7414:(t,e,o)=>{o.d(e,{LE:()=>n,om:()=>r,V4:()=>i,gw:()=>s,oh:()=>u});class r{constructor(){this.framePerSecond=1e6,this.mode="MEmu",this.screenHeight=1280,this.screenWidth=720}}class n{constructor(){this.currentFrame=500,this.scripts=[],this.toString=t=>("Nox"===t.mode?this.scripts.push(`0ScRiPtSePaRaToR${t.screenWidth}|${t.screenHeight}|MULTI:0:6ScRiPtSePaRaToR${this.currentFrame}`):"MEmu"===t.mode&&this.scripts.push(`${this.currentFrame}--VINPUT--MOUSE:0:0`),this.scripts.join("\n")+"\n")}pipe(t,...e){return e&&e.length?e.reduce(((e,o)=>o(e,t)),this):this}}const i=t=>(e,o)=>("Nox"===o.mode?(e.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MULTI:1:0:${t.position.x}:${t.position.y}ScRiPtSePaRaToR${e.currentFrame}`),e.currentFrame+=100,e.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MULTI:0:6ScRiPtSePaRaToR${e.currentFrame}`),e.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MULTI:0:6ScRiPtSePaRaToR${e.currentFrame}`),e.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MULTI:0:1ScRiPtSePaRaToR${e.currentFrame}`),e.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MSBRL:0:0ScRiPtSePaRaToR${e.currentFrame}`)):"MEmu"===o.mode&&(e.scripts.push(`${e.currentFrame}--VINPUT--MULTI2:1:0:0:${t.position.x}:${t.position.y}:0`),e.currentFrame+=100,e.scripts.push(`${e.currentFrame}--VINPUT--MULTI2:1:0:-1:-1:-2:2`)),e),s=t=>(e,o)=>("Nox"===o.mode?(e.currentFrame+=1e3*t.second,e.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MSBRL:0:0ScRiPtSePaRaToR${e.currentFrame}`)):"MEmu"===o.mode&&(e.currentFrame+=Math.floor(o.framePerSecond*t.second),e.scripts.push(`${e.currentFrame}--VINPUT--MOUSE:0:0`)),e),c=10,a={easeIn:t=>e=>Math.pow(e,t),easeInOut:t=>e=>e<.5?a.easeIn(t)(2*e)/2:a.easeOut(t)(2*e-1)/2+.5,easeOut:t=>e=>1-Math.abs(Math.pow(e-1,t)),linear:()=>t=>t},u=t=>(e,o)=>{if(e.pipe(o,s({second:.4})),"MEmu"===o.mode){const r=a[t.easingFunction](4),n=Math.floor(1*o.framePerSecond/c);for(let o=0;o<=c;o++)if(e.currentFrame+=n,0===o)e.scripts.push(`${e.currentFrame}--VINPUT--MULTI2:1:0:0:${t.startPosition.x}:${t.startPosition.y}:0`);else if(o===c)e.scripts.push(`${e.currentFrame}--VINPUT--MULTI2:1:0:0:${t.endPosition.x}:${t.endPosition.y}:1`);else{const n=r(o/c),i=Math.floor(t.startPosition.x+(t.endPosition.x-t.startPosition.x)*n),s=Math.floor(t.startPosition.y+(t.endPosition.y-t.startPosition.y)*n);e.scripts.push(`${e.currentFrame}--VINPUT--MULTI2:1:0:0:${i}:${s}:1`)}e.currentFrame+=n,e.scripts.push(`${e.currentFrame}--VINPUT--MULTI2:1:0:-1:-1:-2:2`)}else if("Nox"===o.mode){const r=a[t.easingFunction](4),n=Math.floor(100);for(let i=0;i<=c;i++)if(e.currentFrame+=n,0===i)e.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MULTI:1:0:${t.startPosition.x}:${t.startPosition.y}ScRiPtSePaRaToR${e.currentFrame}`);else if(i===c)e.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MULTI:1:2:${t.endPosition.x}:${t.endPosition.y}ScRiPtSePaRaToR${e.currentFrame}`);else{const n=r(i/c),s=Math.floor(t.startPosition.x+(t.endPosition.x-t.startPosition.x)*n),a=Math.floor(t.startPosition.y+(t.endPosition.y-t.startPosition.y)*n);e.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MULTI:1:2:${s}:${a}ScRiPtSePaRaToR${e.currentFrame}`)}e.currentFrame+=n,e.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MULTI:0:6ScRiPtSePaRaToR${e.currentFrame}`),e.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MULTI:0:6ScRiPtSePaRaToR${e.currentFrame}`),e.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MULTI:0:1ScRiPtSePaRaToR${e.currentFrame}`),e.scripts.push(`0ScRiPtSePaRaToR${o.screenWidth}|${o.screenHeight}|MSBRL:0:0ScRiPtSePaRaToR${e.currentFrame}`)}return e.pipe(o,s({second:.4}))}},9245:(t,e,o)=>{var r=o(3063),n=o(6791),i=o(8536),s=o(570),c=o(7555);class a{constructor(t,e,o){this.activeModal=t,this.macroGroupService=e,this.macroConfigService=o,this.formGroup=null;const r=this.macroConfigService.getValue();this.formGroup=new s.cw({framePerSecond:new s.NI(r.framePerSecond,[s.kI.required,s.kI.min(0)]),screenHeight:new s.NI(r.screenHeight,[s.kI.required,s.kI.min(0)]),screenWidth:new s.NI(r.screenWidth,[s.kI.required,s.kI.min(0)])}),this.mode=r.mode}setMode(t){this.mode=t}submit(){const t=this.macroConfigService.getValue(),e={framePerSecond:this.formGroup.get("framePerSecond").value,mode:this.mode,screenHeight:this.formGroup.get("screenHeight").value,screenWidth:this.formGroup.get("screenWidth").value};this.macroGroupService.getValue().forEach((o=>{o.items.filter((t=>"Click"===t.type)).forEach((o=>{const r=o.option;r.position.x=Math.floor(r.position.x*e.screenWidth/t.screenWidth),r.position.y=Math.floor(r.position.y*e.screenHeight/t.screenHeight)}))})),this.macroGroupService.updateCurrent(),this.macroConfigService.setValue(e),this.activeModal.close()}}a.ɵfac=function(t){return new(t||a)(n.Y36(c.Kz),n.Y36(i.f),n.Y36(i.KR))},a.ɵcmp=n.Xpm({type:a,selectors:[["ng-component"]],decls:36,vars:16,consts:[[3,"formGroup"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col"],["type","number","step","1","formControlName","screenWidth",1,"form-control"],["type","number","step","1","formControlName","screenHeight",1,"form-control"],[1,"btn-group","d-flex"],["type","button",1,"btn","w-100",3,"disabled","click"],["type","number","step","1","formControlName","framePerSecond",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn",3,"disabled","click"],[1,"fas","fa-sign-in-alt"]],template:function(t,e){1&t&&(n.ynx(0,0),n.TgZ(1,"div",1)(2,"h5",2),n._uU(3,"Global Configuration"),n.qZA(),n.TgZ(4,"button",3),n.NdJ("click",(function(){return e.activeModal.dismiss()})),n.TgZ(5,"span",4),n._uU(6,"×"),n.qZA()()(),n.TgZ(7,"div",5)(8,"div",6)(9,"label",7),n._uU(10,"Screen Width"),n.qZA(),n.TgZ(11,"div",8),n._UZ(12,"input",9),n.qZA()(),n.TgZ(13,"div",6)(14,"label",7),n._uU(15,"Screen Height"),n.qZA(),n.TgZ(16,"div",8),n._UZ(17,"input",10),n.qZA()(),n.TgZ(18,"div",6)(19,"label",7),n._uU(20,"Mode"),n.qZA(),n.TgZ(21,"div",8)(22,"div",11)(23,"button",12),n.NdJ("click",(function(){return e.setMode("MEmu")})),n._uU(24,"MEmu"),n.qZA(),n.TgZ(25,"button",12),n.NdJ("click",(function(){return e.setMode("Nox")})),n._uU(26,"Nox"),n.qZA()()()(),n.TgZ(27,"div",6)(28,"label",7),n._uU(29,"Frame Per Second (for MEmu only)"),n.qZA(),n.TgZ(30,"div",8),n._UZ(31,"input",13),n.qZA()()(),n.TgZ(32,"div",14)(33,"button",15),n.NdJ("click",(function(){return e.submit()})),n._UZ(34,"i",16),n._uU(35," Submit"),n.qZA()(),n.BQk()),2&t&&(n.Q6J("formGroup",e.formGroup),n.xp6(23),n.ekj("btn-primary","MEmu"===e.mode)("btn-default","MEmu"!==e.mode),n.Q6J("disabled","MEmu"===e.mode),n.xp6(2),n.ekj("btn-primary","Nox"===e.mode)("btn-default","Nox"!==e.mode),n.Q6J("disabled","Nox"===e.mode),n.xp6(8),n.ekj("btn-primary",e.formGroup.valid)("btn-default",e.formGroup.invalid),n.Q6J("disabled",e.formGroup.invalid))},directives:[s.JL,s.sg,s.wV,s.Fj,s.JJ,s.u],encapsulation:2});var u=o(1281),l=o(8554),p=o(7147),d=o(2180),m=o(6633);class f{constructor(t,e,o){this.modalService=t,this.macroGroupService=e,this.macroConfigService=o,this.buildScript=()=>{const t=this.macroGroupService.getValue(),e=this.macroConfigService.getValue();this.macroScript=(0,m.$)(t,e)},this.generateImportPackage=()=>{this.modalService.open(i.sF,{backdrop:"static",centered:!0,keyboard:!1})},this.copyResultToClipboard=()=>{l.nx(this.macroScript)}}ngOnInit(){(0,p.T)(this.macroConfigService.observable,this.macroGroupService.observable).subscribe((()=>{this.buildScript()}))}}f.ɵfac=function(t){return new(t||f)(n.Y36(c.FF),n.Y36(d.f),n.Y36(i.KR))},f.ɵcmp=n.Xpm({type:f,selectors:[["script-output"]],decls:12,vars:1,consts:[[1,"pb-1","d-flex","flex-row","align-items-center"],[1,"flex-grow-1"],["type","button",1,"btn","btn-info","btn-sm",3,"click"],[1,"fas","fa-clipboard"],[1,"fas","fa-cube"],["readonly","",1,"flex-grow-1","form-control",3,"value"]],template:function(t,e){1&t&&(n.ynx(0),n.TgZ(1,"div",0)(2,"h2",1),n._uU(3,"Result"),n.qZA(),n.TgZ(4,"button",2),n.NdJ("click",(function(){return e.copyResultToClipboard()})),n._UZ(5,"i",3),n._uU(6," Copy to clipboard"),n.qZA(),n._uU(7,"   "),n.TgZ(8,"button",2),n.NdJ("click",(function(){return e.generateImportPackage()})),n._UZ(9,"i",4),n._uU(10," Generate Package"),n.qZA()(),n._UZ(11,"textarea",5),n.BQk()),2&t&&(n.xp6(11),n.Q6J("value",e.macroScript))},styles:["[_nghost-%COMP%] {\r\n  height: 100%;\r\n}\r\n\r\ntextarea[_ngcontent-%COMP%] {\r\n  resize: none;\r\n}"]});class g{constructor(t){this.modalService=t,this.openExport=()=>{this.modalService.open(i.YV,{backdrop:"static",centered:!0,keyboard:!1})},this.openConfigEditor=()=>{this.modalService.open(a,{backdrop:"static",centered:!0,keyboard:!1})}}}g.ɵfac=function(t){return new(t||g)(n.Y36(c.FF))},g.ɵcmp=n.Xpm({type:g,selectors:[["app-root"]],decls:16,vars:0,consts:[[1,"p-3","d-flex","flex-row","align-items-end"],[1,"flex-grow-1"],["type","button","aria-label","Settings",1,"btn","btn-link",3,"click"],[1,"fas","fa-cogs"],[1,"flex-grow-1","flex-shrink-1","d-flex","flex-row","align-items-stretch","app-container"],[1,"w-50","p-2"],[1,"pb-1","d-flex","flex-row","align-items-center"],["type","button",1,"btn","btn-info","btn-sm",3,"click"],[1,"fas","fa-file-export"],[1,"w-50","d-flex","flex-column","align-items-stretch"],[1,"d-flex","flex-column","align-items-stretch","p-2"]],template:function(t,e){1&t&&(n.TgZ(0,"header",0)(1,"h1",1),n._uU(2,"Final Fantasy Brave Exvius (FFBE) Macro Generator"),n.qZA(),n.TgZ(3,"button",2),n.NdJ("click",(function(){return e.openConfigEditor()})),n._UZ(4,"i",3),n.qZA()(),n.TgZ(5,"main",4)(6,"section",5)(7,"div",6)(8,"h2",1),n._uU(9,"Editor"),n.qZA(),n.TgZ(10,"button",7),n.NdJ("click",(function(){return e.openExport()})),n._UZ(11,"i",8),n._uU(12," Export"),n.qZA()(),n._UZ(13,"macro-editor",1),n.qZA(),n.TgZ(14,"section",9),n._UZ(15,"script-output",10),n.qZA()())},directives:[u.x,f],styles:[".app-container[_ngcontent-%COMP%]    > section[_ngcontent-%COMP%] {\r\n  overflow-y: auto;\r\n}"]});o(5842);class h{}h.ɵfac=function(t){return new(t||h)},h.ɵmod=n.oAB({type:h,bootstrap:[g]}),h.ɵinj=n.cJS({providers:[],imports:[[r.b2,i.JZ.forRoot()]]});o(8470),o(4946);(0,n.G48)(),r.q6().bootstrapModule(h)}},o={};function r(t){var n=o[t];if(void 0!==n)return n.exports;var i=o[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.m=e,t=[],r.O=(e,o,n,i)=>{if(!o){var s=1/0;for(l=0;l<t.length;l++){for(var[o,n,i]=t[l],c=!0,a=0;a<o.length;a++)(!1&i||s>=i)&&Object.keys(r.O).every((t=>r.O[t](o[a])))?o.splice(a--,1):(c=!1,i<s&&(s=i));if(c){t.splice(l--,1);var u=n();void 0!==u&&(e=u)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[o,n,i]},r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.j=179,(()=>{var t={179:0,434:0};r.O.j=e=>0===t[e];var e=(e,o)=>{var n,i,[s,c,a]=o,u=0;if(s.some((e=>0!==t[e]))){for(n in c)r.o(c,n)&&(r.m[n]=c[n]);if(a)var l=a(r)}for(e&&e(o);u<s.length;u++)i=s[u],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(l)},o=self.webpackChunkmenu_macro_editor=self.webpackChunkmenu_macro_editor||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();var n=r.O(void 0,[736],(()=>r(9245)));n=r.O(n)})();